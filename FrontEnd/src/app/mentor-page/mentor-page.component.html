<div class="page-container">
  <div class="sidebar">
    <div class="sidebar-wrapper">
      <ul class="sidebar-menu">
        <!-- Sidebar menu items -->
        <li class="nav-item">
          <a class="nav-link" href="/stats">
            <i class="material-icons">dashboard</i>
            <span>Stats</span>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link" href="javascript:void(0)">
            <i class="material-icons">notifications</i>
            <span>Notifications</span>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="javascript:void(0)">
            <i class="material-icons">person</i>
            <span>Account</span>
          </a>
        </li>
      </ul>
    </div>
  </div>


  <div class="content-container">
  <mat-form-field>
    <mat-label>Filter</mat-label>
    <input matInput (keyup)="onFilterKeyUp($event)" [(ngModel)]="filterValue" placeholder="Ex. Team 1">
  </mat-form-field>

  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <!-- Position Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>No.</th>
      <td mat-cell *matCellDef="let team">{{team.id}}</td>
    </ng-container>

    <!-- Team Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Team Name</th>
      <td mat-cell *matCellDef="let team">{{team.name}}</td>
    </ng-container>

    <!-- Students Column -->
    <ng-container matColumnDef="students">
      <th mat-header-cell *matHeaderCellDef>Students</th>
      <td mat-cell *matCellDef="let team">
        <ul>
          <li *ngFor="let student of team.students">{{student}}</li>
        </ul>
      </td>
    </ng-container>

    <!-- Expanded Detail Column -->
    <ng-container matColumnDef="expandedDetail">
      <th mat-header-cell *matHeaderCellDef>Grading area</th>
      <td mat-cell *matCellDef="let team" [attr.colspan]="displayedColumns.length - 1">
        <div class="expanded-detail" *ngIf="expandedElement === team">
          <div class="grade-input">
            <ul>
              <li *ngFor="let student of team.students; let i = index">
                <input id="team-grade-{{i}}" [(ngModel)]="team.grades[i]" placeholder="Enter grade (1-10)" (click)="$event.stopPropagation()">
              </li>
            </ul>
          </div>
          <button class="assign-button" (click)="$event.stopPropagation()">Assign Grades</button>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="onRowClick(row)"></tr>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']; when: isRowExpanded"></tr>
  </table>
</div>
